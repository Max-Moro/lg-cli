src:
  extensions: [".py", ".toml"]
  python:
    budget:
      max_tokens_per_file: 1000
      priority_order:
        - "imports_external"
        - "literals"
        - "comments"
        - "imports_local"
        - "private_bodies"
        - "public_api_only"
        - "public_bodies"
        - "docstrings_first_sentence"
  filters:
    mode: allow
    allow:
      - "/pyproject.toml"
      - "/lg/"
    children:
      lg:
        mode: block
        block:
          - "/markdown/"
          - "/migrate/"
          - "/_skeletons/"
          - "/scaffold.py"

src-short:
  extensions: [".py", ".toml"]
  path_labels: relative
  filters:
    mode: allow
    allow:
      - "/pyproject.toml"
      - "/lg/"
    children:
      lg:
        mode: allow
        allow:
          - "/cli.py"
          - "/types.py"
          - "/engine.py"
          - "/config/model.py"
          - "/config/load.py"

migrations:
  extensions: [".py"]
  filters:
    mode: allow
    allow:
      - "/lg/migrate/migrations/"
