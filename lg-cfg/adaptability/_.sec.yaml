src:
  extensions: [".py", ".toml"]
  filters:
    mode: allow
    allow:
      - "/pyproject.toml"
      - "/lg/"
    children:
      lg:
        mode: block
        block:
          - "/markdown/"
          - "/migrate/"
          - "/_skeletons/"
          - "/scaffold.py"
          - "diag**"
          - "/conditions/"
          - "/template/"
        children:
          conditions:
            mode: allow
            allow:
              - "/evaluator.py"
          template:
            mode: allow
            allow:
              - "/processor.py"
          adapters:
            mode: allow
            allow:
              - "/__init__.py"
              - "/engine.py"
              - "/registry.py"
          config:
            mode: block
            block:
              - "/load.py"
          stats:
            mode: allow
            allow:
              - "/collector.py"
              - "/report_builder.py"
  targets:
    - match:
      - "/lg/cache/fs_cache.py"
      - "/lg/context/resolver.py"
      - "/lg/context/composer.py"
      - "/lg/context/common.py"
      - "/lg/config/adaptive_model.py"
      - "/lg/config/adaptive_loader.py"
      - "/lg/section_processor.py"
      python:
        budget:
          max_tokens_per_file: 500
#    - match:
#      - "/lg/manifest/builder.py"
#      python:
#        comment_policy: "keep_doc"
#        imports:
#          policy: "strip_all"

docs-design:
  extensions: [".md"]
  filters:
    mode: allow
    allow:
      - "/docs/adaptability/design.md"

docs-template-engine:
  extensions: [".md"]
  filters:
    mode: allow
    allow:
      - "/docs/adaptability/template-engine.md"