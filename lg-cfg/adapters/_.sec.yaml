src:
  extensions: [".py"]
  path_labels: relative
  filters:
    mode: allow
    allow:
      - "/lg/adapters/"
    children:
      lg:
        mode: block
        children:
          adapters:
            mode: block
            block:
              - "/typescript/"

src-tests:
  extensions: [".py"]
  path_labels: relative
  filters:
    mode: allow
    allow:
      - "/tests/adapters/"
      - "/tests/conftest.py"
    children:
      tests:
        mode: block
        children:
          adapters:
            mode: allow
            allow:
              - "conftest.py"
              - "/python/goldens/"
              - "/python/test_complex.py"
              - "/python/test_function_bodies.py"

src-without:
  extensions: [".py", ".toml"]
  path_labels: relative
  filters:
    mode: allow
    allow:
      - "/pyproject.toml"
      - "/lg/"
    children:
      lg:
        mode: block
        block:
          - "/stats/"
          - "/io/"
          - "/markdown/"
          - "/migrate/"
          - "/cache/"
          - "/context/"
          - "/_skeletons/"
          - "/adapters/"
          - "/dia**"
          - "/manifest/builder.py"
          - "/scaffold.py"

docs-tree-sitter:
  extensions: [".md"]
  filters:
    mode: allow
    allow:
      - "/lg-cfg/adapters/gen/TREE_SITTER_README.md"
  markdown:
    max_heading_level: 2