# Document Docstring vs Doc Comment Distinction

## Problem

Not all languages with documentation have `docstring_extractor` in profiles. This is intentional but undocumented.

**Languages with `docstring_extractor`:**
- Python: `_find_python_docstring`
- Kotlin: `_find_kotlin_docstring`
- Java: `_find_java_docstring`
- Scala: `_find_scala_docstring`
- JavaScript: `_find_javascript_docstring`
- TypeScript: `_find_typescript_docstring`
- C++: `_find_cpp_docstring`

**Languages WITHOUT `docstring_extractor`:**
- Go
- Rust
- C

## Reason

Two distinct documentation patterns exist:

### Pattern A: Docstring Inside Body
```python
# Python
def foo():
    """This is a docstring."""
    pass

# Kotlin
fun foo() {
    /** KDoc inside body */
}
```

For these, `docstring_extractor` finds the string/comment at body start and **excludes it from stripping**.

### Pattern B: Doc Comment Before Function
```go
// Go
// ProcessData handles data processing.
// It returns an error if processing fails.
func ProcessData(data []byte) error {
    // body
}

// Rust
/// Processes the input data.
///
/// # Arguments
/// * `data` - The data to process
pub fn process_data(data: &[u8]) -> Result<()> {
    // body
}
```

For these languages, doc comments are **separate nodes before the function**, not inside the body. No `docstring_extractor` needed — comments are naturally outside the strippable range.

## Task

Add section to `lg-cfg/adapters/code_optimization_architecture.md`:

```markdown
### Docstring Handling

#### Two Documentation Patterns

**Pattern A: Docstring Inside Body**

Languages: Python, Kotlin, Java, Scala, JavaScript, TypeScript, C++

Documentation appears as first statement inside function body:
- Python: triple-quoted string
- Kotlin/Java/Scala: `/** */` block comment
- JS/TS/C++: `/** */` JSDoc/Doxygen comment

For these languages, `docstring_extractor` callback in ElementProfile finds the docstring node and **excludes it from body stripping**.

**Pattern B: Doc Comment Before Function**

Languages: Go, Rust, C

Documentation appears as comments immediately before the function definition:
- Go: `//` line comments
- Rust: `///` or `//!` doc comments
- C: `/** */` or `//` before function

For these languages, doc comments are **outside the function body** in the AST. No `docstring_extractor` needed — the body range naturally excludes preceding comments.

#### Implementation Note

When `strip_function_bodies: true`:
- Pattern A languages: body is stripped, docstring preserved
- Pattern B languages: body is stripped, preceding comments naturally preserved (not part of body)

If you need to strip doc comments in Pattern B languages, use `comment_policy: "strip_all"` — this is a separate optimization from function body stripping.
```

## Files to Update

- `lg-cfg/adapters/code_optimization_architecture.md`
